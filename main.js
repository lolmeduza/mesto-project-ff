(()=>{"use strict";function e(e){"Escape"===e.key&&o(document.querySelector(".popup_is-opened"))}function t(e){e.target.classList.contains("popup")&&o(document.querySelector(".popup_is-opened"))}function n(n){document.addEventListener("keydown",e),document.addEventListener("click",t),n.classList.toggle("popup_is-opened")}function o(n){document.removeEventListener("keydown",e),document.removeEventListener("click",t),n.classList.remove("popup_is-opened")}function r(e,t,n,o){var r=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),c=r.querySelector(".card__image");c.src=e.link,c.alt=e.alt,r.querySelector(".card__title").textContent=e.name;var a=r.querySelector(".card__delete-button");return a.addEventListener("click",(function(){var e=a.closest(".card");t(e)})),c.addEventListener("click",(function(){o(e)})),r.addEventListener("click",(function(){})),r.querySelector(".card__like-button").addEventListener("click",n),r}function c(e){e.target.classList.contains("card__like-button")&&e.target.classList.toggle("card__like-button_is-active")}function a(e){e.remove()}document.querySelectorAll(".popup").forEach((function(e){e.classList.toggle("popup_is-animated")}));var p=document.querySelector(".places__list"),u=document.querySelector(".profile__description"),i=document.querySelector(".profile__title");[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Архыз"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Челябинская область"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Иваново"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Камчатка"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Холмогорский район"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Байкал"}].forEach((function(e){var t;t=r(e,a,c,q),p.append(t)}));var l=document.querySelector(".popup_type_edit");document.querySelector(".profile__edit-button").addEventListener("click",(function(){m.value=i.textContent,v.value=u.textContent,n(l)})),document.querySelector(".popup__close").addEventListener("click",(function(){o(l)}));var d=document.querySelector(".popup_type_image");document.querySelector(".popup__image__close").addEventListener("click",(function(){o(d)}));var s=document.querySelector(".popup_type_new-card");document.querySelector(".profile__add-button").addEventListener("click",(function(){y.reset(),n(s)})),document.querySelector(".button__add__close").addEventListener("click",(function(){o(s)}));var _=document.querySelector('[name="edit-profile"]'),m=_.querySelector(".popup__input_type_name"),v=_.querySelector(".popup__input_type_description");_.addEventListener("submit",(function(e){e.preventDefault(),i.textContent=m.value,u.textContent=v.value,o(l)}));var y=document.querySelector('[name="new-place"]'),f=y.querySelector(".popup__input_type_card-name"),k=y.querySelector(".popup__input_type_url");function q(e){var t=d.querySelector(".popup__image");t.src=e.link,t.alt=e.alt,d.querySelector(".popup__caption").textContent=e.name,n(d)}y.addEventListener("submit",(function(e){var t;e.preventDefault(),t=r({name:f.value,link:k.value,alt:f.value},a,c,q),p.prepend(t),o(s),y.reset()}))})();